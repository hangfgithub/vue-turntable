(function t(e,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r();else if(typeof define==="function"&&define.amd)define("vueTurntable",[],r);else if(typeof exports==="object")exports["vueTurntable"]=r();else e["vueTurntable"]=r()})(window,function(){return function(r){var n={};function a(t){if(n[t]){return n[t].exports}var e=n[t]={i:t,l:false,exports:{}};r[t].call(e.exports,e,e.exports,a);e.l=true;return e.exports}a.m=r;a.c=n;a.d=function(t,e,r){if(!a.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:r})}};a.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};a.t=function(e,t){if(t&1)e=a(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var r=Object.create(null);a.r(r);Object.defineProperty(r,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r};a.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};a.d(t,"a",t);return t};a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};a.p="/dist/";return a(a.s=4)}([function(t,e,r){var n=r(2);if(typeof n==="string")n=[[t.i,n,""]];if(n.locals)t.exports=n.locals;var a=r(5).default;var i=a("7d7f3f20",n,true,{})},function(t,e,r){"use strict";var n=r(0);var a=r.n(n);var i=a.a},function(t,e,r){var n=r(3);e=n(false);e.push([t.i,'.turntable-wrap[data-v-0fd08388]{width:100%;height:100%;margin:0 auto;position:relative}.turntable-wrap .turntable[data-v-0fd08388]{width:100%;height:100%;background:url("https://cbshowhot.cdn.changbaimg.com/!/yunying/mid-autumn-festival/turntable.png?v=0.0.6") no-repeat;background-size:100% 100%;transition:transform 5s ease-in-out}.turntable-wrap .pointer[data-v-0fd08388]{border:none;appearance:none;outline:none;background:none;position:absolute;width:122px;height:154px;transform:translateX(-50%)}\n',""]);t.exports=e},function(t,e,r){"use strict";t.exports=function(r){var s=[];s.toString=function t(){return this.map(function(t){var e=n(t,r);if(t[2]){return"@media ".concat(t[2]," {").concat(e,"}")}return e}).join("")};s.i=function(t,e,r){if(typeof t==="string"){t=[[null,t,""]]}var n={};if(r){for(var a=0;a<this.length;a++){var i=this[a][0];if(i!=null){n[i]=true}}}for(var o=0;o<t.length;o++){var u=[].concat(t[o]);if(r&&n[u[0]]){continue}if(e){if(!u[2]){u[2]=e}else{u[2]="".concat(e," and ").concat(u[2])}}s.push(u)}};return s};function n(t,e){var r=t[1]||"";var n=t[3];if(!n){return r}if(e&&typeof btoa==="function"){var a=o(n);var i=n.sources.map(function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")});return[r].concat(i).concat([a]).join("\n")}return[r].join("\n")}function o(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t))));var r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(r," */")}},function(t,e,r){"use strict";r.r(e);var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"turntable-wrap"},[r("div",{staticClass:"turntable",style:{transform:"rotate("+t.angle+"deg)",background:"url("+t.lotteryBg+") no-repeat",backgroundSize:"100% 100%",transition:"transform "+t.duration/1e3+"s"}}),t._v(" "),r("button",{staticClass:"pointer",style:{left:t.pointerXY[0],top:t.pointerXY[1],background:"url("+t.pointerBg+") no-repeat",backgroundSize:"100% 100%"},on:{click:t.start}}),t._v(" "),t._t("default")],2)};var a=[];var i={name:"Turntable",props:{startAngle:{type:Number,default:0},prizeAllNum:{type:Number,required:true},prizeIndex:{type:Number,required:true},turnsNumber:{type:Number,default:4},duration:{type:Number,default:5e3},lotteryBg:{type:String,default:function t(){return"https://cbshowhot.cdn.changbaimg.com/!/yunying/mid-autumn-festival/turntable.png"}},pointerBg:{type:String,default:function t(){return"https://cbshowhot.cdn.changbaimg.com/!/yunying/mid-autumn-festival/arrow.png"}},pointerXY:{type:Array,default:function t(){return["50%","33%"]}},isStartRotate:{type:Number,default:0}},data:function t(){return{angle:this.startAngle,isRolling:false}},watch:{isStartRotate:function t(){if(this.isStartRotate>=1){this.startRotate()}}},methods:{start:function t(){this.$emit("lotteryClick")},startRotate:function t(){var e=this;if(this.isRolling){return}this.isRolling=true;var r=this.angle;var n=360-r%360+360*this.turnsNumber+this.prizeIndex/this.prizeAllNum*360;this.angle+=n;console.log("this.turnsNumber",this.turnsNumber);setTimeout(function(){e.$emit("update:isStartRotate",0);e.$emit("turnDoneCb");e.isRolling=false},this.duration+500)}}};var o=i;var u=r(1);function s(t,e,r,n,a,i,o,u){var s=typeof t==="function"?t.options:t;if(e){s.render=e;s.staticRenderFns=r;s._compiled=true}if(n){s.functional=true}if(i){s._scopeId="data-v-"+i}var f;if(o){f=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!t&&typeof __VUE_SSR_CONTEXT__!=="undefined"){t=__VUE_SSR_CONTEXT__}if(a){a.call(this,t)}if(t&&t._registeredComponents){t._registeredComponents.add(o)}};s._ssrRegister=f}else if(a){f=u?function(){a.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:a}if(f){if(s.functional){s._injectStyles=f;var l=s.render;s.render=function t(e,r){f.call(r);return l(e,r)}}else{var c=s.beforeCreate;s.beforeCreate=c?[].concat(c,f):[f]}}return{exports:t,options:s}}var f=s(o,n,a,false,null,"0fd08388",null);var l=f.exports;if(typeof window!=="undefined"&&window.Vue){console.log("window 情况");window.Vue.use(l)}var c=e["default"]=l.install=function(t){t.component(l.name,l)}},function(t,e,r){"use strict";r.r(e);r.d(e,"default",function(){return v});function f(t,e){var r=[];var n={};for(var a=0;a<e.length;a++){var i=e[a];var o=i[0];var u=i[1];var s=i[2];var f=i[3];var l={id:t+":"+a,css:u,media:s,sourceMap:f};if(!n[o]){r.push(n[o]={id:o,parts:[l]})}else{n[o].parts.push(l)}}return r}var n=typeof document!=="undefined";if(typeof DEBUG!=="undefined"&&DEBUG){if(!n){throw new Error("vue-style-loader cannot be used in a non-browser environment. "+"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.")}}var l={};var a=n&&(document.head||document.getElementsByTagName("head")[0]);var i=null;var o=0;var c=false;var u=function(){};var d=null;var s="data-vue-ssr-id";var p=typeof navigator!=="undefined"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(u,t,e,r){c=e;d=r||{};var s=f(u,t);h(s);return function t(e){var r=[];for(var n=0;n<s.length;n++){var a=s[n];var i=l[a.id];i.refs--;r.push(i)}if(e){s=f(u,e);h(s)}else{s=[]}for(var n=0;n<r.length;n++){var i=r[n];if(i.refs===0){for(var o=0;o<i.parts.length;o++){i.parts[o]()}delete l[i.id]}}}}function h(t){for(var e=0;e<t.length;e++){var r=t[e];var n=l[r.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++){n.parts[a](r.parts[a])}for(;a<r.parts.length;a++){n.parts.push(m(r.parts[a]))}if(n.parts.length>r.parts.length){n.parts.length=r.parts.length}}else{var i=[];for(var a=0;a<r.parts.length;a++){i.push(m(r.parts[a]))}l[r.id]={id:r.id,refs:1,parts:i}}}}function g(){var t=document.createElement("style");t.type="text/css";a.appendChild(t);return t}function m(r){var n,a;var t=document.querySelector("style["+s+'~="'+r.id+'"]');if(t){if(c){return u}else{t.parentNode.removeChild(t)}}if(p){var e=o++;t=i||(i=g());n=y.bind(null,t,e,false);a=y.bind(null,t,e,true)}else{t=g();n=w.bind(null,t);a=function(){t.parentNode.removeChild(t)}}n(r);return function t(e){if(e){if(e.css===r.css&&e.media===r.media&&e.sourceMap===r.sourceMap){return}n(r=e)}else{a()}}}var b=function(){var r=[];return function(t,e){r[t]=e;return r.filter(Boolean).join("\n")}}();function y(t,e,r,n){var a=r?"":n.css;if(t.styleSheet){t.styleSheet.cssText=b(e,a)}else{var i=document.createTextNode(a);var o=t.childNodes;if(o[e])t.removeChild(o[e]);if(o.length){t.insertBefore(i,o[e])}else{t.appendChild(i)}}}function w(t,e){var r=e.css;var n=e.media;var a=e.sourceMap;if(n){t.setAttribute("media",n)}if(d.ssrId){t.setAttribute(s,e.id)}if(a){r+="\n/*# sourceURL="+a.sources[0]+" */";r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"}if(t.styleSheet){t.styleSheet.cssText=r}else{while(t.firstChild){t.removeChild(t.firstChild)}t.appendChild(document.createTextNode(r))}}}])});